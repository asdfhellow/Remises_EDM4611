#Projet d'exploration 1: générateur de galaxie
##EDM4611 - Marianne Fournier

###Introduction
En regardant l'exemple sur l'*instancing* par GPU du cours de la semaine 5, j'ai eu l'idée de créer un générateur de galaxie en explorant les méthodes utilisées en classe. Mon objectif était donc de créer un format de galaxie où certains paramètres pourraient être générés aléatoirement afin de créer une galaxie unique chaque fois que l'on cliquerait sur un bouton, un peu comme si on se déplaçait dans l'univers et que l'on découvrait des galaxies.

###Ciel étoilé
J'ai d'abord commencé par faire mon ciel étoilé. Je voulais générer un ensemble de points blancs répartis de manière aléatoire dans un environnement 3d et qui pourrait changer chaque fois qu'une nouvelle galaxie est générée pour donner l'impression de changer de place dans l'univers. J'ai donc utilisé une sphère TOP à laquelle j'ai ajouté un opérateur *noise*. J'ai ensuite mis ce *noise* dans une géométrie en utilisant l'option « *point* » du matériel *line*. Ainsi, en effectuant une translation du *noise*, j'obtiens des étoiles placées aléatoirement.

###Galaxie
J'ai ensuite utilisé la technique d'*instancing* par GPU afin de créer ma galaxie. J'ai d'abord utilisé une sphère avec beaucoup plus de rangées que de colonnes à laquelle j'ai appliqué un *twist* et un *fractal* pour créer la forme spirale d'une galaxie. Hors, la double spirale qu'offre le twist ne s'apparentait pas à une galaxie. J'ai donc utilisé un opérateur *carve* pour ne conserver que la moitié de la forme. Tout cela a ensuite été mis dans une géométrie où j'ai utilisé une petite sphère qui ensuite était répliquée pour recréer la forme de spirale. Je voulais qu'elle émette de la lumière puisqu'il s'agit d'étoiles; j'ai donc utilisé un *phong* comme matériel. J'ai pu y ajouter de la brillance en jouant avec les paramètres. Plus tard, j'ai voulu jouer avec la rotation de la galaxie pour imiter différents angles de vue ou différentes formes. J'ai donc utilisé un *transform* pour aplatir ma galaxie, lui permettant de garder une forme cohérente peu importe son angle.

Toutefois, l'apparence très nette du rendu premier de ma géométrie ne me faisait pas penser à une galaxie. J'ai donc multiplié plusieurs fois ce rendu et j'y ai appliqué plusieurs effets de *blur*. En superposant des flous horizontaux et verticaux à des flous réguliers, j'ai fini par trouver une combinaison d'effets de *compositing* qui me satisfaisait. J'ai ensuite créé une deuxième géométrie TOP de ma galaxie avec de plus grandes sphères afin d'avoir un fond plus large sur lequel je pourrais mettre une couleur.

###Paramètres aléatoires
La dernière étape était de générer aléatoirement des paramètres afin de créer une galaxie différente chaque fois que je cliquerais sur un bouton. Pour ce faire, j'ai utilisé un *CHOP execute* et, sous l'option « *onOffToOn* », j'ai généré une panoplie de paramètres que j'ai stocké dans un opérateur *constant* à plusieurs canaux. Ainsi, j'ai pu généré la rotation de ma galaxie, le *noise* de ma sphère générant les étoiles, la quantité de colonnes et de rangées qu'avait ma sphère utilisée pour le *twist*, l'écart d'un *LFO* gérant mon *twist* (afin de contrôler la vitesse de ce dernier) ainsi que différents paramètres du *twist* et du *fractal*. J'ai utilisé *random* afin d'y parvenir. La partie la plus difficile était de calibrer les limites de ma génération afin d'obtenir un résultat assez différent chaque fois, mais qui ressemblait tout de même à une galaxie. J'ai terminé avec la génération de couleurs, que j'ai faite à l'aide du *ramp_keys* d'un opérateur *ramp*. J'ai seulement généré les valeurs RGB de ce dernier à l'aide d'une boucle *for*. Je ne voulais que deux couleurs à ma galaxie, et je ne voulais pas que l'alpha ou la position des points de ma ramp changent.
